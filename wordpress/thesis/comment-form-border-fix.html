<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Thesis Comment Form Border Fix</title>
	<meta name="robots" content="noodp, noydir" />
	<meta name="description" content="If you use the Thesis WordPress theme and you&#8217;ve selected the option to &#8216;Show list of allowed HTML tags,&#8217; then your comment form borders need this fix." />
	<link rel="canonical" href="comment-form-border-fix.html" />
	<link rel="pingback" href="../../xmlrpc.php" />
	<link rel="stylesheet" href="../../wp-content/themes/freethesis/custom/custom0170.css?20120714-2235" type="text/css" />
</head>
<body class="custom">
<div id="container">
<div id="page">
	<div id="header">
		<div id="logo_mofo">
			<div id="domain_mofo"><a href="../../index.html">SEO<span></span></a><b>mofo</b></div>
			<div id="slogan_mofo">world's greatest seo</div>
		</div>
<ul class="menu">
<li class="tab tab-1"><a href="../../about.html" title="About">About</a></li>
<li class="tab tab-2"><a href="../../policy.html" title="Policy">Policy</a></li>
</ul>

<p id="breadcrumbs"><a href="../../index.html">SEO</a> &raquo; <a href="../index.html" title="View all posts in WordPress">WordPress</a> &raquo; <a href="index.html" title="View all posts in Thesis Theme">Thesis Theme</a> &raquo; <strong>Thesis Comment Form Border Fix</strong></p>	</div>
	<div id="content_box">
		<div id="content" class="hfeed">

			<div class="post-951 post type-post status-publish format-standard hentry category-thesis post_box top" id="post-951">
<div class="headline_area">
		<div id="tm_box"></div>
		<div id="tm_loading"></div>
		<div id="tw_box"></div>
		<div id="tw_loading"></div>
					<h1 class="entry-title">Thesis Comment Form Border Fix</h1>
					<p class="headline_meta">by <span class="author vcard fn">SEO Mofo</span> on <span class="published">Dec 28th, 2009</span></p>
					<p class="headline_meta">in <span><a href="index.html" title="View all posts in Thesis Theme" rel="category tag">Thesis Theme</a></span></p>
				</div>
				<div class="format_text entry-content">
<h2>Who should read this article?</h2>
<p>If you meet the following criteria, this post is for you:</p>
<ol>
<li>You use the Thesis theme for WordPress.</li>
<li>You allow comments on your posts.</li>
<li>Under <b>Thesis Options</b>, you have selected the option to &#8220;Show list of allowed HTML tags.&#8221;</li>
<li>The solid border around your comment form&#8217;s <code>&lt;textarea&gt;</code> does not line up with the dotted border of the element underneath it (the element that contains the text <em>You can use these HTML tags and attributes</em>&#8230;).</li>
<li>You want to fix the borders so they line up perfectly!</li>
</ol>
<p>
If you qualify, read on, valued reader! If you don&#8217;t qualify, read on, valued reader! If you don&#8217;t want to hear me nitpick petty details, then just skip to <a href="#stfu">the solution</a>.
</p>
<h2>What are these comment form borders you speak of?</h2>
<p>
<strong>Here is an example of a comment form with misaligned borders:</strong>
</p>
<p>
<img src="../../img/thesis-comment-form-borders.png" alt="Thesis comment form borders misaligned" title="Thesis comment form borders misaligned" width="548" height="265" class="alignnone size-full wp-image-961" />
</p>
<h2 style="text-align:center;">Show list of allowed HTML tags</h2>
<p style="text-align:center; width:300px; margin-left:auto; margin-right:auto;">
<strong>Here is the Thesis Options menu where you enable this option:</strong>
</p>
<p>
<img src="../../img/thesis-options-show-html-tags.png" alt="Thesis Options - Show list of allowed HTML tags" title="Thesis Options - Show list of allowed HTML tags" width="300" height="356" class="aligncenter size-full wp-image-956" />
</p>
<h2>Why aren&#8217;t my borders aligned?</h2>
<p>
If you show the allowed HTML tags, and your main content column width is <strong>outside</strong> the range of approximately 438px &#8211; 508px, then chances are your borders are effed up. Complicating the issue further is the fact that your borders will appear more effed up or less effed up, depending on the web browser you&#8217;re using. Below is a zoomed-in view of the borders on <a href="http://www.mattcutts.com/blog/type/googleseo/">Matt Cutts</a>&#8217; comment form, as seen in some major web browsers (using Windows Vista for all of them except IE6 and IE7, which were captured via their respective Microsoft Virtual PC images running on Windows XP SP3):
</p>
<p>
<img src="../../img/thesis-comment-form-comparison.png" alt="Thesis comment form border in major web browsers" title="Thesis comment form border in major web browsers" width="414" height="320" class="aligncenter size-full wp-image-981 mb2em" />
</p>
<p class="info_mofo mb4em">
The illustration above revealed a couple of interesting observations: <strong>(1)</strong> IE8 (which is supposed to be the most standards-compliant version of Internet Explorer) deviates the furthest from the intended dimensions. Every other web browser rendered the width of the top part (the <code>&lt;textarea&gt;</code> element) as either 686px or 687px, while IE8 rendered it at 682px! WTF, Microsoft? <strong>(2)</strong> IE8 in compatibility mode was NOT rendered exactly the same as it was in IE7.
</p>
<h2>Comment form HTML node tree</h2>
<p>
For your reference, I&#8217;ve created a simple HTML node tree of the comment form elements. Think of this as the raw HTML source code, with all the content, irrelevant attributes, and closing tags removed. The only information this node tree is meant to convey is the hierarchical nesting of HTML elements. This notation is helpful for understanding CSS styles and how they cascade. Check it out:
</p>

<pre class="brush: xml;">
&lt;form id=&quot;commentform&quot;&gt;
	&lt;p&gt;
		&lt;input class=&quot;text_input&quot; id=&quot;author&quot;&gt;
		&lt;label&gt;
			&lt;span class=&quot;required&quot;&gt;
	&lt;p&gt;
		&lt;input class=&quot;text_input&quot; id=&quot;email&quot;&gt;
		&lt;label&gt;
			&lt;span class=&quot;required&quot;&gt;
	&lt;p&gt;
		&lt;input class=&quot;text_input&quot; id=&quot;url&quot;&gt;
		&lt;label&gt;
	&lt;p class=&quot;comment_box&quot;&gt;
		&lt;textarea&gt;
		&lt;span class=&quot;allowed&quot;&gt;
			&lt;span&gt;
				&lt;em&gt;
					&lt;acronym&gt;
	&lt;p class=&quot;subscribe-to-comments&quot;&gt;
		&lt;input id=&quot;subscribe&quot;&gt;
		&lt;label&gt;
	&lt;p&gt;
		&lt;input class=&quot;form_submit&quot; id=&quot;submit&quot;&gt;
</pre>

<p>
If you take a look at lines 14 and 15, you&#8217;ll find the sibling elements who just can&#8217;t seem to get along. In plain English, that means that <code>&lt;textarea&gt;</code> and <code>&lt;span&nbsp;class="allowed"&gt;</code> are the two elements whose borders don&#8217;t line up. <strong>Therefore, our goal is to make these two elements the same width.</strong>
</p>
<h2>Thesis Writes Dynamic Stylesheets</h2>
<p>
If you haven&#8217;t spent much time tweaking the CSS styles for Thesis, you probably don&#8217;t know that the 2 primary stylesheets are dynamically built by your server, based on the font size you&#8217;ve defined in the Thesis Design Options menu, under Content Area. So for example, Thesis wants the border of its comment form to be 1px, regardless of what your font size is, but it also wants to define everything in <code>em</code> units (which is usually the preferred unit for maximizing cross-browser compatibility and displaying properly across many different devices and display resolutions). Therefore, if you set your content font size to 16 (where 1em = 16px), then Thesis will build a stylesheet that defines the border of its comment form to be <code>0.063em</code>. Multiply (16 pixels/em)(0.063em), and you get a border width of 1.008px, which rounds to 1px. The only reason I&#8217;m mentioning this about Thesis is because my illustration below shows the <code>&lt;textarea&gt;</code> padding (defined in <span class="uri_mofo">/wp-content/themes/thesis/custom/layout.css</span>) as 3px on each side, but your layout.css file will define it in em units. Thesis will adjust the em value to ensure that all font sizes result in 3px of padding on all sides of the <code>&lt;textarea&gt;</code>, and 0px of padding on the <strong>sides</strong> of the <code>&lt;span&nbsp;class="allowed"&gt;</code> (it has 7px of padding on the top and bottom, but this doesn&#8217;t affect our border issue).
</p>
<p>
<img src="../../img/thesis-comment-form-elements.png" alt="Default styles of Thesis comment form elements" title="Default styles of Thesis comment form elements" width="559" height="341" class="aligncenter size-full wp-image-976" />
</p>
<hr />
<p>
From looking at the illustration, you can see that our two elements will line up when the following equation is true:
</p>
<p style="text-align:center;">
<code>(.96)(parent width) + 6px = (.973)(parent width)</code>
</p>
<hr class="mb3em" />
<h2>Sub-pixel Rounding in Major Web Browsers</h2>
<p>
Even though the equation above has only one solution, we can actually take advantage of sub-pixel rounding to get a range of acceptable solutions. In order for these two elements to be the same width, the parent element (<code>p.comment_box</code>) needs to be in the range of approximately 415px &#8211; 485px. After taking the 23px into account, this means our content column width (which you can define in the Thesis Design Options menu) needs to be in the range of approximately 438px &#8211; 508px&#8230;otherwise the borders will break. If you left your content column width at the Thesis default value of 480px, then your borders should be okay&#8230;at least in SOME browsers. The chances of your borders lining up in IE8, however, are extremely slim&#8230;due to the fact that Internet Explorer is absolutely the shittiest browser in the World. With terrible browsers like Internet Explorer still in use, we need to find a solution that doesn&#8217;t require any unit conversions (e.g. 1.3% = 6px). This won&#8217;t guarantee that all browsers render the comment form at the same width, but it will guarantee that the borders line up.
</p>
<div id="stfu"></div>
<h2>Can you STFU and give us the solution now?</h2>
<p>
Sure. Copy this code and paste it in your custom.css file:
</p>
<pre class="brush: css;">
#commentform textarea{width:97.3%; padding:0;}
</pre>
<h2>Serious? I just read all that crazy shit for one line of code?</h2>
<p>Yup.</p>
<h2>How do I know if this will work for my blog?</h2>
<p>
Simple. Just save <a href="javascript:void(document.getElementById('comment').style.width='97.3%');void(document.getElementById('comment').style.padding='0');">this bookmarklet</a> to your bookmarks, go stare at your effed up comment form borders, and click this sumbitch. Did it work?
</p>
<h2>OMG, you rock! How can I ever repay you?</h2>
<p>
Hmm&#8230;maybe you could click on some of these awesome social media widgets:
</p>







	<div id="widget_holder">
	</div>
				</div>
			</div>
		</div>

		<div id="sidebars">
			<div id="sidebar_1" class="sidebar">
				<ul class="sidebar_list">
<li class="widget widget_text" id="text-7">			<div class="textwidget"><div style="width:158px; margin:0; padding:4px 0; border:1px solid #7ABCF1; background-color:#F3F6FF; color:#006699; font-family:Georgia, 'Times New Roman', Times, serif; font-size:16px; line-height:16px; text-align:center; text-shadow:#CCC 0 1px 1px; -moz-border-radius:12px; -webkit-border-radius:12px;border-radius:12px;-moz-box-shadow: 0 0 5px #A8D3F5;-webkit-box-shadow: 0 0 5px #A8D3F5;box-shadow: 0 0 5px #A8D3F5;"><a href="../../snippet-optimizer.html" style="text-decoration:none;outline:none;"><span style="color: rgb(0, 57, 182);">G</span><span style="color: rgb(196, 18, 0);">o</span><span style="color: rgb(243, 197, 24);">o</span><span style="color: rgb(0, 57, 182);">g</span><span style="color: rgb(48, 167, 47);">l</span><span style="color: rgb(196, 18, 0);">e</span>&nbsp;SERP&nbsp;Snippet Optimization&nbsp;Tool</a></div></div>
		</li><li class="widget widget_text" id="text-8"><div class="widget_heading">Pages</div>			<div class="textwidget">	<ul>
		<li><a style="color: rgb(255, 76, 0);" href="../../middle-finger-cursors.html"><span style="color: rgb(255, 76, 0);"><b>FREE Middle Finger Cursors!</b></span></a></li>
		<li><a href="../../low-priority-page.html">Low Priority Page</a></li>
		<li><a href="../../google-instant-previews.html">Google Instant Previews</a></li>
	</ul></div>
		</li><li class="widget widget_categories" id="categories-3"><div class="widget_heading">Categories</div>		<ul>
	<li class="cat-item cat-item-8"><a href="../../advanced/index.html" title="Advanced White Hat SEO">Advanced SEO</a> (4)
</li>
	<li class="cat-item cat-item-6"><a href="../../antisocial-media/index.html" title="Anti-Social Media + Antisocial Media">AntiSocial Media</a> (4)
</li>
	<li class="cat-item cat-item-11"><a href="../../experiments/index.html" title="View all posts filed under Experiments">Experiments</a> (7)
</li>
	<li class="cat-item cat-item-9"><a href="../../advanced/patents/index.html" title="Google Patents On Information Retrieval">Google Patents</a> (2)
</li>
	<li class="cat-item cat-item-12"><a href="../../google-sucks/index.html" title="Sometimes I Hate Google">Google Sucks</a> (6)
</li>
	<li class="cat-item cat-item-7"><a href="../../marketing/index.html" title="Internet Marketing">Marketing</a> (3)
</li>
	<li class="cat-item cat-item-13"><a href="../../speed/index.html" title="Page Speed &amp; Site Performance">Page Speed</a> (5)
</li>
	<li class="cat-item cat-item-10"><a href="../../orm/index.html" title="Online Reputation Management">Reputation Management</a> (6)
</li>
	<li class="cat-item cat-item-14"><a href="../../ethics/index.html" title="View all posts filed under SEO Ethics">SEO Ethics</a> (3)
</li>
	<li class="cat-item cat-item-17"><a href="../../experiments/serp/index.html" title="View all posts filed under SERP Experiments">SERP Experiments</a> (10)
</li>
	<li class="cat-item cat-item-5"><a href="index.html" title="Thesis WordPress Theme">Thesis Theme</a> (6)
</li>
	<li class="cat-item cat-item-4"><a href="../index.html" title="WordPress SEO Tips">WordPress</a> (4)
</li>
		</ul>
</li>				</ul>
			</div>
			<div id="sidebar_2" class="sidebar">
				<ul class="sidebar_list">
<li class="widget widget_text" id="text-4">			<div class="textwidget"><div id="sub_box"></div></div>
		</li>				</ul>
			</div>
		</div>
	</div>
	<div id="footer">
		<p id="copyright">Copyright&nbsp;&copy;&nbsp;2013&nbsp;Darren Slatten</p>
	</div>
</div>
</div>
<script type="text/javascript">
	//<![CDATA[
	mofoImgs = document.getElementsByTagName("img");
	if (mofoImgs.length > 0) {
		mofoLazyPics = new Array();
		for (var i = 0; i < mofoImgs.length; i++) {
			mofoLazyPics[i] = mofoImgs[i].src;
			mofoImgs[i].style.backgroundImage = "url(/img/throbber.gif)";
			mofoImgs[i].style.backgroundRepeat = "no-repeat";
			mofoImgs[i].style.backgroundPosition = "center center";
			mofoImgs[i].setAttribute("src", "data:image/gif,GIF89a%01%00%01%00%80%00%00%00%00%00%00%00%00!%F9%04%01%00%00%00%00%2C%00%00%00%00%01%00%01%00%00%02%02D%01%00%3B");
		}
	}
	//]]>
</script><script type="text/javascript">
//<![CDATA[
	var _gaq=[['_setAccount','UA-4827976-1'],['_setDomainName','.seomofo.com'],['_trackPageview'],['_trackPageLoadTime']];
	(function(d,t){
		var g=d.createElement(t);var s=d.getElementsByTagName(t)[0];
		g.async=1;g.src='http://www.google-analytics.com/ga.js';
		s.parentNode.insertBefore(g,s);
	})(document,'script');
//]]>
</script><!-- 18 queries in 0.096 seconds. -->
<script type='text/javascript' src='../../wp-content/themes/freethesis/custom/customac77.js?ver=20120628-1801'></script>
<script type='text/javascript' src='../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter/scripts/shCore9bab.js?ver=2.1.364b'></script>
<script type='text/javascript' src='../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter/scripts/shBrushXml9bab.js?ver=2.1.364b'></script>
<script type='text/javascript' src='../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter/scripts/shBrushCss9bab.js?ver=2.1.364b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter/styles/shCore9bab.css?ver=2.1.364b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].appendChild(corecss);
		var themecssurl = "../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter/styles/shThemeDefault9bab.css?ver=2.1.364b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.getElementsByTagName("head")[0].appendChild(themecss);
	})();
	SyntaxHighlighter.config.clipboardSwf = '../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter/scripts/clipboard.swf';
	SyntaxHighlighter.config.strings.expandSource = 'show source';
	SyntaxHighlighter.config.strings.viewSource = 'view source';
	SyntaxHighlighter.config.strings.copyToClipboard = 'copy to clipboard';
	SyntaxHighlighter.config.strings.copyToClipboardConfirmation = 'The code is in your clipboard now';
	SyntaxHighlighter.config.strings.print = 'print';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['auto-links'] = false;
	SyntaxHighlighter.defaults['wrap-lines'] = false;
	SyntaxHighlighter.all();
</script>
</body>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
